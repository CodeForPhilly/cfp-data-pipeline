version: 1
send_anonymous_usage_stats: true
project_id: 45da6c57-af78-4ac6-8e0c-d26e914bb9e5
plugins:
  extractors:
  - name: tap-github
    namespace: tap_github
    variant: singer-io
    pip_url: git+https://github.com/dherbst/tap-github.git@cfp-main
    executable: tap-github
    capabilities:
    - catalog
    - discover
    - state
    config:
      access_token: $TAP_GITHUB_ACCESS_TOKEN
      repository: CodeForPhilly/cfp-data-pipeline
  - name: tap-slack
    namespace: tap_slack
    variant: singer-io
    pip_url: tap-slack
    executable: tap-slack
    capabilities:
    - catalog
    - discover
    - state
    config:
      token: $TAP_SLACK_TOKEN
      start_date: '2021-01-08T00:00:00'
      private_channels: false
      join_public_channels: true
      exclude_archived: true
  loaders:
  - name: target-csv
    variant: singer-io
    pip_url: target-csv
  - name: target-postgres
    variant: datamill-co
    pip_url: singer-target-postgres
    config:
      postgres_host: postgres
      postgres_port: 5432
      postgres_database: datawarehouse
      postgres_username: $DEFAULT_USER
      postgres_password: $DEFAULT_PASSWORD
      postgres_schema: views
  - name: target-snowflake
    variant: meltano
    pip_url: git+https://gitlab.com/meltano/target-snowflake.git
    config:
      account: $TARGET_SNOWFLAKE_ACCOUNT
      username: $TARGET_SNOWFLAKE_USERNAME
      password: $TARGET_SNOWFLAKE_PASSWORD
      role: $TARGET_SNOWFLAKE_ROLE
      database: $TARGET_SNOWFLAKE_DATABASE
      warehouse: $TARGET_SNOWFLAKE_WAREHOUSE
      schema: $TARGET_SNOWFLAKE_SCHEMA
schedules:
- name: slack-to-postgres
  extractor: tap-slack
  loader: target-postgres
  transform: skip
  interval: '@daily'
  start_date: 2021-01-08 00:00:00
- name: github-to-postgres
  extractor: tap-github
  loader: target-postgres
  transform: skip
  interval: '@daily'
  start_date: 2021-01-15 18:41:47.984720
